.section--section-gap__img--parallax {
    // introduced this to force hardware acceleration (not sure if it was effective or not)
    transform: translate3d(0, 0, 0);
    -skrollr-animation-name: gap-parallax;
}

@-skrollr-keyframes gap-parallax {
    // this actually only runs from when bottom hits bottom of viewport to when bottom hits top

    // when the top of the image hits the bottom of the viewport
    bottom-top {
        background-position: 0 100%;
    }

    // when the bottom of the image hits the top of the viewport
    top-bottom {
        background-position: 0 0%;
    }
}

@for $cur-parallax-image-i from 0 through ($number-of-parallax-images - 1) {
    $cur-parallax-layers: nth($parallax-image-layers, $cur-parallax-image-i + 1);

    @for $cur-parallax-layer-i from 0 through (length($cur-parallax-layers) - 1) {
        $cur-parallax-layer: nth($cur-parallax-layers, $cur-parallax-layer-i + 1);
        $cur-parallax-layer-rotate: map-get($cur-parallax-layer, "rotate");

        @if ($cur-parallax-layer-rotate) {
            @if (not map-get($cur-parallax-layer, "ignore")) {
                @include animated-item(
                    "section--section-gap-" + $cur-parallax-image-i + "__img--layer-" + $cur-parallax-layer-i,
                    "gap-" + $cur-parallax-image-i + "-layer-" + $cur-parallax-layer-i + "-rotate",
                    $cur-parallax-layer
                )
            }
        }
    }
}